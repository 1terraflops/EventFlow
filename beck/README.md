## **Автентифікація**

### 1. Реєстрація нового користувача

- **URL**: `/register/`
- **Метод**: `POST`
- **Опис**: Створює нового користувача.
- **Тіло запиту**:
  ```json
  {
    "username": "user@example.com",  // Логін (емейл)
    "password": "secure_password_123"  // Пароль
  }
  ```
- **Успішна відповідь**:
  ```json
  {
    "refresh": "<refresh_token>",
    "access": "<access_token>"
  }
  ```
- **Помилки**:
  - `400 Bad Request`: Якщо логін або пароль не вказані, або логін не є валідним емейлом.
  - `400 Bad Request`: Якщо користувач з таким логіном вже існує.

---

### 2. Вхід у систему

- **URL**: `/login/`
- **Метод**: `POST`
- **Опис**: Автентифікує користувача та повертає JWT-токени.
- **Тіло запиту**:
  ```json
  {
    "username": "user@example.com",  // Логін (емейл)
    "password": "secure_password_123"  // Пароль
  }
  ```
- **Успішна відповідь**:
  ```json
  {
    "refresh": "<refresh_token>",
    "access": "<access_token>"
  }
  ```
- **Помилки**:
  - `400 Bad Request`: Якщо логін або пароль не вказані.
  - `401 Unauthorized`: Якщо логін або пароль невірні.

---

### 3. Оновлення токену доступу

- **URL**: `/token/refresh/`
- **Метод**: `POST`
- **Опис**: Оновлює токен доступу за допомогою refresh-токену.
- **Тіло запиту**:
  ```json
  {
    "refresh": "<refresh_token>"
  }
  ```
- **Успішна відповідь**:
  ```json
  {
    "access": "<new_access_token>"
  }
  ```

---

## **Івенти**

### 1. Отримати список івентів

- **URL**: `/events/`
- **Метод**: `GET`
- **Опис**: Повертає список івентів. Можна фільтрувати за статусом (активні/архівні).
- **Параметри запиту**:
  - `archived` (опціонально): Якщо `true`, повертає всі івенти (активні та архівні). За замовчуванням `false`.
- **Успішна відповідь**:
  ```json
  [
    {
      "id": 1,
      "title": "Назва івенту",
      "description": "Опис івенту",
      "start_date": "2023-10-01T12:00:00Z",
      "end_date": "2023-10-01T18:00:00Z",
      "created_by": 1
    }
  ]
  ```

---

### 2. Отримати деталі івенту

- **URL**: `/events/<int:event_id>/`
- **Метод**: `GET`
- **Опис**: Повертає деталі конкретного івенту.
- **Успішна відповідь**:
  ```json
  {
    "id": 1,
    "title": "Назва івенту",
    "description": "Опис івенту",
    "start_date": "2023-10-01T12:00:00Z",
    "end_date": "2023-10-01T18:00:00Z",
    "created_by": 1
  }
  ```
- **Помилки**:
  - `404 Not Found`: Якщо івент не знайдено.

---

### 3. Створити новий івент

- **URL**: `/events/create/`
- **Метод**: `POST`
- **Опис**: Створює новий івент. Доступно тільки для адміністраторів або організаторів.
- **Тіло запиту**:
  ```json
  {
    "title": "Назва івенту",
    "description": "Опис івенту",
    "start_date": "2023-10-01T12:00:00Z",
    "end_date": "2023-10-01T18:00:00Z"
  }
  ```
- **Успішна відповідь**:
  ```json
  {
    "id": 1,
    "title": "Назва івенту",
    "description": "Опис івенту",
    "start_date": "2023-10-01T12:00:00Z",
    "end_date": "2023-10-01T18:00:00Z",
    "created_by": 1
  }
  ```
- **Помилки**:
  - `403 Forbidden`: Якщо користувач не має прав на створення івентів.
  - `400 Bad Request`: Якщо дані не валідні.

---

### 4. Оновити івент

- **URL**: `/events/<int:event_id>/update/`
- **Метод**: `PATCH`
- **Опис**: Оновлює існуючий івент. Доступно тільки для адміністраторів або авторів івенту.
- **Тіло запиту** (опціонально):
  ```json
  {
    "title": "Нова назва івенту",
    "description": "Новий опис івенту",
    "start_date": "2023-10-01T12:00:00Z",
    "end_date": "2023-10-01T18:00:00Z"
  }
  ```
- **Успішна відповідь**:
  ```json
  {
    "id": 1,
    "title": "Нова назва івенту",
    "description": "Новий опис івенту",
    "start_date": "2023-10-01T12:00:00Z",
    "end_date": "2023-10-01T18:00:00Z",
    "created_by": 1
  }
  ```
- **Помилки**:
  - `403 Forbidden`: Якщо користувач не має прав на редагування івенту.
  - `404 Not Found`: Якщо івент не знайдено.

---

### 5. Зареєструватися на івент

- **URL**: `/events/<int:event_id>/register/`
- **Метод**: `POST`
- **Опис**: Реєструє поточного користувача на івент.
- **Тіло запиту**:
  ```json
  {
    "email": "user@example.com"  // Емейл для реєстрації
  }
  ```
- **Успішна відповідь**:
  ```json
  {
    "message": "Ви успішно зареєстровані!",
    "registration_id": 1
  }
  ```
- **Помилки**:
  - `400 Bad Request`: Якщо емейл не вказаний або невірний.
  - `400 Bad Request`: Якщо івент вже завершився.
  - `400 Bad Request`: Якщо користувач вже зареєстрований на івент.

---

### 6. Отримати список зареєстрованих на івент

- **URL**: `/events/<int:event_id>/registrations/`
- **Метод**: `GET`
- **Опис**: Повертає список користувачів, які зареєструвалися на івент.
- **Успішна відповідь**:
  ```json
  [
    {
      "user_id": 1,
      "registered_at": "2023-10-01T12:00:00Z"
    }
  ]
  ```

---

## **Користувачі**

### 1. Отримати інформацію про користувача

- **URL**: `/users/<int:user_id>/`
- **Метод**: `GET`
- **Опис**: Повертає інформацію про користувача.
- **Успішна відповідь**:
  ```json
  {
    "user_id": 1,
    "username": "user@example.com",
    "first_name": "Іван",
    "last_name": "Петренко",
    "is_active": true,
    "is_staff": false,
    "date_joined": "2023-01-01T12:00:00Z"
  }
  ```
- **Помилки**:
  - `404 Not Found`: Якщо користувача не знайдено.

---

### 2. Оновити профіль користувача

- **URL**: `/users/<int:user_id>/update_profile/`
- **Метод**: `PATCH`
- **Опис**: Оновлює профіль користувача. Пароль може оновлювати тільки власник профілю.
- **Тіло запиту** (опціонально):
  ```json
  {
    "first_name": "Нове Ім'я",
    "last_name": "Нове Прізвище",
    "password": "новий_пароль_123"
  }
  ```
- **Успішна відповідь**:
  ```json
  {
    "user_id": 1,
    "username": "user@example.com",
    "first_name": "Нове Ім'я",
    "last_name": "Нове Прізвище",
    "message": "Профіль успішно оновлено"
  }
  ```
- **Помилки**:
  - `403 Forbidden`: Якщо користувач не має прав на оновлення профілю.
  - `400 Bad Request`: Якщо пароль порожній.

---

## **Пошук івентів**

### 1. Пошук івентів

- **URL**: `/events/search/`
- **Метод**: `GET`
- **Опис**: Повертає список івентів, які відповідають пошуковому запиту.
- **Параметри запиту**:
  - `q`: Пошуковий запит (обов'язково).
  - `type` (опціонально): Тип пошуку (`title` або `description`). За замовчуванням пошук по всіх полях.
  - `archived` (опціонально): Якщо `true`, включає архівні івенти. За замовчуванням `false`.
- **Успішна відповідь**:
  ```json
  [
    {
      "id": 1,
      "title": "Назва івенту",
      "description": "Опис івенту",
      "start_date": "2023-10-01T12:00:00Z",
      "end_date": "2023-10-01T18:00:00Z",
      "created_by": 1
    }
  ]
  ```

---

## Важливі примітки для використання API

1. Всі запити, які потребують аутентифікації, повинні мати заголовок:
   ```
   Authorization: Bearer {access_token}
   ```

2. Токен доступу (access_token) має обмежений термін дії. Використовуйте ендпоінт `/token/refresh/` для отримання нового токена доступу.

3. Формат дати і часу: ISO 8601 (наприклад, "2025-03-15T10:00:00Z").

4. При реєстрації користувача та вході username повинен бути валідною електронною поштою.